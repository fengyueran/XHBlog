---
layout: post
title: Node中的模块查找机制
category: js
tagline: "Supporting tagline"
tags: [js]
description: 通常我们引用着一些模块，而这些模块又引用着另一些模块，当模块出现错乱不是我们想要的结果时，就会变得抓狂，怎么引用到的是这个呢，像一个黑盒，琢磨不投。也许知道了Node中的模块查找机制，也就豁然开朗了。
date: 2017-6-05 18:10:20
---

### 模块

在 Node.js 中有两个核心的模块负责模块依赖的管理，require 模块和 module 模块。

- require 模块: 负责加载模块。
- module 模块: 负责模块的组织管理。

在 Node.js 模块系统中，每个文件都被视为一个独立的模块，引入一个模块，即引入一个文件。

```
const circle = require('./circle.js');
```

### 模块的加载

- 核心模块

  即原生模块，原生模块会编译成二进制，加载时优先加载原生模块，原生模块也有缓存区，如果缓存区存在则从缓存中获取，如果没有则调用原生模块的加载方式进行加载。例如，require('http') 始终返回内置的 HTTP 模块，即使有同名文件。
